(this.webpackJsonpnews=this.webpackJsonpnews||[]).push([[9],{176:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n(0),c=n(61),s=n(73),i=n(15),a=n(50),o=n(187),u=n(51),l=(n(176),n(3));function d(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1],d=Object(r.useState)(null),j=Object(s.a)(d,2),f=j[0],b=j[1],m=Object(r.useState)(!1),h=Object(s.a)(m,2),O=h[0],S=h[1],x=Object(i.b)(),v=localStorage.getItem("user"),N=JSON.parse(v),E=Object(i.c)((function(e){return e.saveAndDeleteNews})).news.filter((function(e){return e.userid===N.id}));return Object(r.useEffect)((function(){x(u.a.getMyNews()),c(E)}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container ",children:Object(l.jsxs)("div",{className:"row col-md-12   mx-5 ",children:[(null===n||void 0===n?void 0:n.length)?null===n||void 0===n?void 0:n.map((function(e,t){return Object(l.jsxs)("div",{className:"card m-5",style:{width:"60rem"},children:[Object(l.jsx)("div",{className:"card-header",children:Object(l.jsxs)("div",{children:[e.title," ",N&&Object(l.jsx)("a",{className:"add-news",onClick:function(){return function(e){e&&x(u.a.delete(e))}(e)},children:"Remove"})]})}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("img",{className:"img-thumbnail",style:{width:"60rem",height:"20rem"},src:e.urlToImage,alt:e.urlToImage}),Object(l.jsx)("p",{className:"card-text",children:e.description}),Object(l.jsx)("div",{className:"d-flex justify-content-end",children:Object(l.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var t;(t=e)&&(S(!0),b(t))},children:"Details"})})]})]},t)})):Object(l.jsx)("div",{className:"card m-5",children:Object(l.jsx)("div",{className:"card-body p-5",children:Object(l.jsx)("p",{className:"card-text d-flex justify-content-center",children:"No Articals!"})})}),Object(l.jsxs)(o.a,{show:O,onHide:function(){return S(!1)},children:[Object(l.jsxs)(o.a.Header,{children:[Object(l.jsx)(o.a.Title,{children:"Artical Details"}),Object(l.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(){return S(!1)}})]}),Object(l.jsxs)(o.a.Body,{children:[Object(l.jsx)("div",{className:"d-flex justify-content-end artical-published-date",children:Object(a.a)(new Date(null===f||void 0===f?void 0:f.publishedAt))}),Object(l.jsxs)("b",{children:[null===f||void 0===f?void 0:f.title," "]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),null===f||void 0===f?void 0:f.content," ",Object(l.jsx)("a",{href:null===f||void 0===f?void 0:f.url,target:"_blank",rel:"noreferrer",children:"see the full artical"}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"d-flex justify-content-end",children:null===f||void 0===f?void 0:f.author})]})]})]})})})}function j(){return Object(l.jsx)(c.a,{children:Object(l.jsx)(d,{title:"My List"})})}},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return O}));n(42);var r={login:function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})};return fetch("/users/authenticate",n).then(s).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),e}))},logout:c,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/users/register",t).then(s)}};function c(){localStorage.removeItem("user")}function s(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(c(),location.reload(!0));var r=n&&n.message||e.statusText;return Promise.reject(r)}return n}))}var i="ALERT_SUCCESS",a="ALERT_ERROR",o="ALERT_CLEAR",u="USERS_REGISTER_REQUEST",l="USERS_REGISTER_SUCCESS",d="USERS_REGISTER_FAILURE",j="USERS_LOGIN_REQUEST",f="USERS_LOGIN_SUCCESS",b="USERS_LOGIN_FAILURE",m="USERS_LOGOUT",h={success:function(e){return{type:i,message:e}},error:function(e){return{type:a,message:e}},clear:function(){return{type:o}}};var O={login:function(e,t){return function(n){n({type:j,user:{email:e}}),r.login(e,t).then((function(e){n(function(e){return{type:f,user:e}}(e)),window.location.href="home"}),(function(e){n(function(e){return{type:b,error:e}}(e)),n(h.error(e))}))}},logout:function(){return r.logout(),{type:m}},registerUser:function(e){return function(t){t(function(e){return{type:u,user:e}}(e)),r.register(e).then((function(e){t(function(e){return{type:l,user:e}}()),window.location.href="login",t(h.success("Registration successful"))}),(function(e){t(function(e){return{type:d,error:e}}(e)),t(h.error(e))}))}}}},42:function(e,t,n){"use strict";function r(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer ".concat(e.token)}:{}}n.d(t,"a",(function(){return r}))},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(55);var r=n(42),c=n(49);c.api_key;var s={saveNews:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/news/save",t)},deleteNews:function(e){var t={method:"DELETE",headers:Object(r.a)(),body:JSON.stringify(e)};return fetch("/news/delete",t)},getMyNews:function(){var e={method:"GET",headers:Object(r.a)()};return fetch("/myNews",e)}}},45:function(e,t,n){},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);var r=n(15),c=n(41),s=n(3);function i(){var e=Object(r.b)(),t=localStorage.getItem("user"),n=JSON.parse(t);return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("header",{className:"site-header text-center  mb-0",children:Object(s.jsx)("div",{className:"menu-container row align-items-center container-fluid mx-auto",children:Object(s.jsxs)("div",{className:"row  menus  mr-auto mr-lg-0  mt-16 mt-lg-0",children:[Object(s.jsx)("span",{className:"col-md-2 site-name",children:Object(s.jsx)("a",{href:"/",children:"News"})}),n?Object(s.jsx)("span",{className:"col-md-4 site-menu",children:Object(s.jsx)("a",{className:"/mylist"===window.location.pathname?"active":"",href:"/mylist",children:"My List"})}):Object(s.jsx)("span",{className:"col-md-4"}),Object(s.jsx)("ul",{className:" col-md-6 d-flex justify-content-end list-unstyled align-items-center ",children:(null===n||void 0===n?void 0:n.name)?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("li",{className:"nav-item px-3",children:["Hi ",null===n||void 0===n?void 0:n.name," !"]})," ",Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("button",{type:"button",onClick:function(t){e(c.b.logout()),window.location.href="home"},className:"btn btn-primary",children:"Logout"})})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link",href:"/login",children:"Login"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link",href:"/register",children:"Register"})})]})})]})})})})}},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(0);var r=n(3);function c(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("footer",{className:"text-start site-footer d-block mb-5 ms-5 mt-auto",children:[Object(r.jsx)("p",{className:"mb-0",children:" \xa9 2022  of France"}),Object(r.jsx)("p",{className:"poweredBy",children:"Powered by Takwa"})]})})}},49:function(e){e.exports=JSON.parse('{"api_key":"5d6344128e9843d38603f37aaf736308"}')},50:function(e,t,n){"use strict";function r(e,t){var n=new Date(e),r=n.getFullYear(),c=n.getMonth()+1,s=n.getDate();s<10&&(s="0".concat(s)),c<10&&(c="0".concat(c));var i="".concat(r,"-").concat(c,"-").concat(s);return t?t(i):i}n.d(t,"a",(function(){return r}))},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(44),c=" NEWS_SAVE_REQUEST",s=" NEWS_SAVE_SUCCESS",i=" NEWS_SAVE_FAILURE",a="NEWS_GETALL_REQUEST",o="NEWS_GETALL_SUCCESS",u="NEWS_GETALL_FAILURE",l="NEWS_DELETE_REQUEST",d="NEWS_DELETE_SUCCESS",j="NEWS_DELETE_FAILURE";var f={save:function(e){return function(t){t(function(e){return{type:c,news:e}}(e)),r.a.saveNews(e).then((function(e){t(function(e){return{type:s,news:e}}(e)),alert("Added Successfuly!")}),(function(e){t(function(e){return{type:i,error:e}}(e)),alert(e)}))}},getMyNews:function(){return function(e){e({type:a}),r.a.getMyNews().then((function(t){return e(function(e){return{type:o,news:e}}(t))}),(function(t){return e(function(e){return{type:u,error:e}}(t))}))}},delete:function(e){return function(t){t(function(e){return{type:l,news:e}}(e)),r.a.deleteNews(e).then((function(e){t(function(e){return{type:d,news:e}}(e)),alert("Deleted Successfuly!"),location.reload(!0)}),(function(e){t(function(e){return{type:j,error:e}}(e)),alert(e)}))}}}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(45),n(0);var r=n(54),c=n(46),s=n(47),i=n(3);function a(e){var t=e.children,n=e.title;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(r.a,{children:Object(i.jsx)("title",{children:n})}),Object(i.jsxs)("div",{className:"outer-container",children:[Object(i.jsx)(c.a,{}),Object(i.jsx)("div",{className:"container-root mainWrap ",children:t}),Object(i.jsx)(s.a,{})]})]})}}}]);
//# sourceMappingURL=9.b6b842b3.chunk.js.map