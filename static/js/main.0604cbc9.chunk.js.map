{"version":3,"sources":["reducers/loginAndLogout.js","reducers/registration.js","reducers/saveAndDeleteNews.js","reducers/alert.js","reducers/index.js","App.js","helper/fakeBackend.js","index.js"],"names":["userConstants","user","JSON","parse","localStorage","getItem","initialState","loggedIn","newsConstants","SAVE_REQUEST","SAVE_SUCCESS","SAVE_FAILURE","news","saving","alertConstants","rootReducer","combineReducers","loginAndLogout","state","action","type","loggingIn","registration","registering","saveAndDeleteNews","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","alert","message","Home","React","lazy","Login","Register","MyNews","App","fallback","className","exact","from","to","path","component","users","userNews","realFetch","window","fetch","url","opts","Promise","resolve","reject","setTimeout","endsWith","method","params","body","filteredUsers","filter","email","password","length","responseJson","id","name","phone","dateInput","token","ok","text","stringify","newUser","Math","max","map","push","setItem","news1","userid","title","index","findIndex","newData","slice","then","response","configureFakeBackend","loggerMiddleware","createLogger","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0604cbc9.chunk.js","sourcesContent":["export const userConstants = {\n  LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\n  LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\n  LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\n\n  LOGOUT: 'USERS_LOGOUT',\n};\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user ? { loggedIn: true, user } : {};\n\nexport function loginAndLogout(state = initialState, action) {\n  switch (action.type) {\n    case userConstants.LOGIN_REQUEST:\n      return {\n        loggingIn: true,\n        user: action.user,\n      };\n    case userConstants.LOGIN_SUCCESS:\n      return {\n        loggedIn: true,\n        user: action.user,\n      };\n    case userConstants.LOGIN_FAILURE:\n      return {};\n    case userConstants.LOGOUT:\n      return {};\n    default:\n      return state;\n  }\n}\n","export const userConstants = {\n  REGISTER_REQUEST: 'USERS_REGISTER_REQUEST',\n  REGISTER_SUCCESS: 'USERS_REGISTER_SUCCESS',\n  REGISTER_FAILURE: 'USERS_REGISTER_FAILURE',\n};\n\nexport function registration(state = {}, action) {\n  switch (action.type) {\n    case userConstants.REGISTER_REQUEST:\n      return { registering: true };\n    case userConstants.REGISTER_SUCCESS:\n      return {};\n    case userConstants.REGISTER_FAILURE:\n      return {};\n    default:\n      return state;\n  }\n}\n","export const newsConstants = {\n  SAVE_REQUEST: ' NEWS_SAVE_REQUEST',\n  SAVE_SUCCESS: ' NEWS_SAVE_SUCCESS',\n  SAVE_FAILURE: ' NEWS_SAVE_FAILURE',\n};\nconst news = JSON.parse(localStorage.getItem('news'));\nconst initialState = news ? { saving: true, news } : {};\n\nexport function saveAndDeleteNews(state = initialState, action) {\n  switch (action.type) {\n    case newsConstants.SAVE_REQUEST:\n      return { saving: true };\n    case newsConstants.SAVE_SUCCESS:\n      return {};\n    case newsConstants.SAVE_FAILURE:\n      return {};\n    case newsConstants.DELETE_REQUEST:\n      return { saving: true };\n    case newsConstants.DELETE_SUCCESS:\n      return {};\n    case newsConstants.DELETE_FAILURE:\n      return {};\n    default:\n      return state;\n  }\n}\n","export const alertConstants = {\n  SUCCESS: 'ALERT_SUCCESS',\n  ERROR: 'ALERT_ERROR',\n  CLEAR: 'ALERT_CLEAR',\n};\n\nexport function alert(state = {}, action) {\n  switch (action.type) {\n    case alertConstants.SUCCESS:\n      return {\n        type: 'alert-success',\n        message: action.message,\n      };\n    case alertConstants.ERROR:\n      return {\n        type: 'alert-danger',\n        message: action.message,\n      };\n    case alertConstants.CLEAR:\n      return {};\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport { loginAndLogout } from './loginAndLogout';\nimport { registration } from './registration';\nimport { saveAndDeleteNews } from './saveAndDeleteNews';\nimport { alert } from './alert';\n\nconst rootReducer = combineReducers({\n  loginAndLogout,\n  registration,\n  saveAndDeleteNews,\n  alert,\n});\n\nexport default rootReducer;\n","import React, { lazy, Suspense } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\n\nconst Home = React.lazy(() => import('./views/Home'));\nconst Login = React.lazy(() => import('./views/Login'));\nconst Register = React.lazy(() => import('./views/Register'));\nconst MyNews = React.lazy(() => import('./views/myNews'));\n\nexport default function App() {\n  return (\n    <Suspense fallback={<div className=\"loader\" />}>\n      <Router>\n        <Switch>\n          <Redirect exact from=\"/\" to=\"/home\" />\n          <Route path=\"/home\" component={Home} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/register\" component={Register} />\n          <Route path=\"/mylist\" component={MyNews} />\n        </Switch>\n      </Router>\n    </Suspense>\n  );\n}\n","/* eslint-disable complexity */\nconst users = JSON.parse(localStorage.getItem('users')) || [];\nconst userNews = JSON.parse(localStorage.getItem('news')) || [];\n\nexport function configureFakeBackend() {\n  const realFetch = window.fetch;\n  window.fetch = function (url, opts) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (url.endsWith('/users/authenticate') && opts.method === 'POST') {\n          const params = JSON.parse(opts.body);\n          const filteredUsers = users.filter(user => user.email === params.email && user.password === params.password);\n\n          if (filteredUsers.length) {\n            const user = filteredUsers[0];\n            const responseJson = {\n              id: user.id,\n              email: user.email,\n              name: user.name,\n              phone: user.phone,\n              dateInput: user.dateInput,\n              token: 'fake-jwt-token',\n            };\n            resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(responseJson)) });\n          } else {\n            reject('Username or password is incorrect');\n          }\n\n          return;\n        }\n\n        // register user\n        if (url.endsWith('/users/register') && opts.method === 'POST') {\n          const newUser = JSON.parse(opts.body);\n          // validation\n          const duplicateUser = users.filter(user => user.email === newUser.email).length;\n          if (duplicateUser) {\n            reject(`Email \"${newUser.email}\" is already taken`);\n            return;\n          }\n\n          // save new user\n          newUser.id = users.length ? Math.max(...users.map(user => user.id)) + 1 : 1;\n          users.push(newUser);\n          localStorage.setItem('users', JSON.stringify(users));\n          resolve({ ok: true, text: () => Promise.resolve() });\n          return;\n        }\n        // save news\n        if (url.endsWith('/news/save') && opts.method === 'POST') {\n          const news = JSON.parse(opts.body);\n          // validation\n          const duplicateNews = userNews.filter(news1 => news1.userid === news.userid && news1.title === news.title).length;\n          if (duplicateNews) {\n            reject('This Artical is already saved');\n            return;\n          }\n          userNews.push(news);\n          localStorage.setItem('news', JSON.stringify(userNews));\n          // respond 200 OK\n          resolve({ ok: true, text: () => Promise.resolve() });\n\n          return;\n        }\n\n        // get My seved news\n        if (url.endsWith('/myNews') && opts.method === 'GET') {\n          resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(userNews)) });\n          return;\n        }\n\n        // delete news\n        if (url.endsWith('/news/delete') && opts.method === 'DELETE') {\n          const news = JSON.parse(opts.body);\n\n          const index = userNews.findIndex(news1 => news1.userid === news.userid && news1.title === news.title);\n          const newData = [...userNews.slice(0, index), ...userNews.slice(index + 1)];\n\n          localStorage.setItem('news', JSON.stringify(newData));\n          // respond 200 OK\n          resolve({ ok: true, text: () => Promise.resolve() });\n          return;\n        }\n        realFetch(url, opts).then(response => resolve(response));\n      }, 500);\n    });\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport rootReducer from './reducers';\nimport App from './App.js';\nimport 'bootstrap/scss/bootstrap.scss';\nimport './views/Shared/_style.scss';\n// setup fake backend\nimport { configureFakeBackend } from './helper/fakeBackend';\nconfigureFakeBackend();\nconst loggerMiddleware = createLogger();\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleware, loggerMiddleware));\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}