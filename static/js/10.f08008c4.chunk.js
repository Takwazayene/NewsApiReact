(this.webpackJsonpNewsApiReact=this.webpackJsonpNewsApiReact||[]).push([[10],{186:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return u}));var n=r(48),s=(r(0),r(52)),c=r(15),a=r(64),i=(r(44),r(66),r(133)),l=r.n(i),o=r(41),d=r(3);function u(){var e=Object(s.b)(),t=e.register,r=e.handleSubmit,i=e.formState.errors,u=e.control,m=Object(c.b)();return Object(d.jsx)(a.a,{title:"Register",children:Object(d.jsx)("section",{className:" margin-auto",children:Object(d.jsxs)("form",{action:"/",method:"post",onSubmit:r((function(e){e&&m(o.b.registerUser(e))})),children:[Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{className:"mb-1",children:["Email",Object(d.jsx)("label",{className:"star",children:"*"})]}),Object(d.jsx)("input",Object(n.a)({className:"form-control",placeholder:"example@domain.com"},t("email",{required:!0,pattern:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/}))),(null===i||void 0===i?void 0:i.email)&&"required"===(null===i||void 0===i?void 0:i.email.type)&&Object(d.jsx)("p",{className:"error",children:"This field is required"}),(null===i||void 0===i?void 0:i.email)&&"pattern"===(null===i||void 0===i?void 0:i.email.type)&&Object(d.jsx)("p",{className:"error",children:"Please enter a valid email"})]})}),Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{className:"mb-1",children:["Password",Object(d.jsx)("label",{className:"star",children:"*"})]}),Object(d.jsx)("input",Object(n.a)({className:"form-control",placeholder:"Password",type:"password",maxLength:"16"},t("password",{required:!0}))),(null===i||void 0===i?void 0:i.password)&&"required"===(null===i||void 0===i?void 0:i.password.type)&&Object(d.jsx)("p",{className:"error",children:"This field is required"})]})}),Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{className:"mb-1",children:["Name",Object(d.jsx)("label",{className:"star",children:"*"})]}),Object(d.jsx)("input",Object(n.a)({className:"form-control",placeholder:"Name"},t("name",{required:!0}))),(null===i||void 0===i?void 0:i.name)&&"required"===(null===i||void 0===i?void 0:i.name.type)&&Object(d.jsx)("p",{className:"error",children:"This field is required"})]})}),Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{className:"mb-1",children:["Phone Number",Object(d.jsx)("label",{className:"star",children:"*"})]}),Object(d.jsx)("input",Object(n.a)({className:"form-control",placeholder:"+33xxxxxxxxx"},t("phone"))),(null===i||void 0===i?void 0:i.phone)&&"required"===(null===i||void 0===i?void 0:i.phone.type)&&Object(d.jsx)("p",{className:"error",children:"This field is required"})]})}),Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{className:"mb-1",children:["Date of birth",Object(d.jsx)("label",{className:"star",children:"*"})]}),Object(d.jsx)(s.a,{control:u,name:"dateInput",rules:{required:!0},render:function(e){var t=e.field;return Object(d.jsx)(l.a,{className:"form-control",placeholderText:"dd/mm/yyyy",onChange:function(e){return t.onChange(e)},selected:t.value})}}),(null===i||void 0===i?void 0:i.dateInput)&&"required"===(null===i||void 0===i?void 0:i.dateInput.type)&&Object(d.jsx)("p",{className:"error",children:"This field is required"})]})})]}),Object(d.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.jsxs)("button",{type:"submit",className:"btn btn-primary mt-0 mx-0 ",children:[Object(d.jsx)("i",{className:"ic icon-angle-left-b"})," Register"]})}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"mt-2 d-flex justify-content-center ",children:Object(d.jsx)("a",{className:"mx-2",href:"/login",children:"Already have an account?"})})]})})})}},41:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return O}));r(42);var n={login:function(e,t){var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})};return fetch("/users/authenticate",r).then(c).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),e}))},logout:s,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/users/register",t).then(c)}};function s(){localStorage.removeItem("user")}function c(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){401===e.status&&(s(),location.reload(!0));var n=r&&r.message||e.statusText;return Promise.reject(n)}return r}))}var a="ALERT_SUCCESS",i="ALERT_ERROR",l="ALERT_CLEAR",o="USERS_REGISTER_REQUEST",d="USERS_REGISTER_SUCCESS",u="USERS_REGISTER_FAILURE",m="USERS_LOGIN_REQUEST",j="USERS_LOGIN_SUCCESS",b="USERS_LOGIN_FAILURE",h="USERS_LOGOUT",f={success:function(e){return{type:a,message:e}},error:function(e){return{type:i,message:e}},clear:function(){return{type:l}}};var O={login:function(e,t){return function(r){r({type:m,user:{email:e}}),n.login(e,t).then((function(e){r(function(e){return{type:j,user:e}}(e)),window.location.href="home"}),(function(e){r(function(e){return{type:b,error:e}}(e)),r(f.error(e))}))}},logout:function(){return n.logout(),{type:h}},registerUser:function(e){return function(t){t(function(e){return{type:o,user:e}}(e)),n.register(e).then((function(e){t(function(e){return{type:d,user:e}}()),window.location.href="login",t(f.success("Registration successful"))}),(function(e){t(function(e){return{type:u,error:e}}(e)),t(f.error(e))}))}}}},42:function(e,t,r){"use strict";function n(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer ".concat(e.token)}:{}}r.d(t,"a",(function(){return n}))},44:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r(55);var n=r(42),s=r(49);s.api_key;var c={saveNews:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/news/save",t)},deleteNews:function(e){var t={method:"DELETE",headers:Object(n.a)(),body:JSON.stringify(e)};return fetch("/news/delete",t)},getMyNews:function(){var e={method:"GET",headers:Object(n.a)()};return fetch("/myNews",e)}}},45:function(e,t,r){},46:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r(0);var n=r(15),s=r(41),c=r(3);function a(){var e=Object(n.b)(),t=localStorage.getItem("user"),r=JSON.parse(t);return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("header",{className:"site-header text-center  mb-0",children:Object(c.jsx)("div",{className:"menu-container row align-items-center container-fluid mx-auto",children:Object(c.jsxs)("div",{className:"row  menus  mr-auto mr-lg-0  mt-16 mt-lg-0",children:[Object(c.jsx)("span",{className:"col-md-2 site-name",children:Object(c.jsx)("a",{href:"/",children:"News"})}),r?Object(c.jsx)("span",{className:"col-md-4 site-menu",children:Object(c.jsx)("a",{className:"/mylist"===window.location.pathname?"active":"",href:"/mylist",children:"My List"})}):Object(c.jsx)("span",{className:"col-md-4"}),Object(c.jsx)("ul",{className:" col-md-6 d-flex justify-content-end list-unstyled align-items-center ",children:(null===r||void 0===r?void 0:r.name)?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("li",{className:"nav-item px-3",children:["Hi ",null===r||void 0===r?void 0:r.name," !"]})," ",Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("button",{type:"button",onClick:function(t){e(s.b.logout()),window.location.href="home"},className:"btn btn-primary",children:"Logout"})})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("a",{className:"nav-link",href:"/login",children:"Login"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("a",{className:"nav-link",href:"/register",children:"Register"})})]})})]})})})})}},47:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r(0);var n=r(3);function s(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("footer",{className:"text-start site-footer d-block mb-5 ms-5 mt-auto",children:[Object(n.jsx)("p",{className:"mb-0",children:" \xa9 2022  of France"}),Object(n.jsx)("p",{className:"poweredBy",children:"Powered by Takwa"})]})})}},49:function(e){e.exports=JSON.parse('{"api_key":"5d6344128e9843d38603f37aaf736308"}')},64:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(0);var n=r(54),s=r(15),c=(r(46),r(47),r(7)),a=r(41),i=(r(45),r(65),r(63),r(3));function l(e){var t=e.children,r=e.title,l=Object(s.b)(),o=Object(c.a)(),d=Object(s.c)((function(e){return e.alert}));return o.listen((function(e,t){l(a.a.clear())})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(n.a,{children:Object(i.jsx)("title",{children:r})}),Object(i.jsx)("div",{className:"outer-container",children:Object(i.jsx)("div",{className:"container-root mainWrap",children:Object(i.jsx)("div",{className:"container d-flex justify-content-center",children:Object(i.jsx)("div",{className:"card p-5 mt-5",children:Object(i.jsxs)("div",{className:"card-body mx-5 my-2",children:[Object(i.jsx)("h5",{className:"card-title text-center",children:r}),d.message&&Object(i.jsx)("div",{className:"alert ".concat(d.type),children:d.message}),Object(i.jsx)("p",{className:"card-text",children:t})]})})})})})]})}},65:function(e,t,r){}}]);
//# sourceMappingURL=10.f08008c4.chunk.js.map