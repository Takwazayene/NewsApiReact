(this.webpackJsonpNewsApiReact=this.webpackJsonpNewsApiReact||[]).push([[4],{35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return G}));var r=n(0),s=n.n(r),a=n(12),i=n.n(a),o=n(15),c=n(11),l=n(22),u=n(23),S="USERS_LOGIN_REQUEST",d="USERS_LOGIN_SUCCESS",E="USERS_LOGIN_FAILURE",h="USERS_LOGOUT",g=JSON.parse(localStorage.getItem("user")),m=g?{loggedIn:!0,user:g}:{};var f="USERS_REGISTER_REQUEST",p="USERS_REGISTER_SUCCESS",v="USERS_REGISTER_FAILURE";var O={SAVE_REQUEST:" NEWS_SAVE_REQUEST",SAVE_SUCCESS:" NEWS_SAVE_SUCCESS",SAVE_FAILURE:" NEWS_SAVE_FAILURE"},b=JSON.parse(localStorage.getItem("news")),R=b?{saving:!0,news:b}:{};var j="ALERT_SUCCESS",_="ALERT_ERROR",U="ALERT_CLEAR";var w=Object(c.b)({loginAndLogout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loggingIn:!0,user:t.user};case d:return{loggedIn:!0,user:t.user};case E:case h:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{registering:!0};case p:case v:return{};default:return e}},saveAndDeleteNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.SAVE_REQUEST:return{saving:!0};case O.SAVE_SUCCESS:case O.SAVE_FAILURE:return{};case O.DELETE_REQUEST:return{saving:!0};case O.DELETE_SUCCESS:case O.DELETE_FAILURE:return{};default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{type:"alert-success",message:t.message};case _:return{type:"alert-danger",message:t.message};case U:return{};default:return e}}}),I=n(24),y=n(2),A=n(3),N=s.a.lazy((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(8)]).then(n.bind(null,188))})),T=s.a.lazy((function(){return Promise.all([n.e(0),n.e(2),n.e(11)]).then(n.bind(null,185))})),x=s.a.lazy((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(6),n.e(10)]).then(n.bind(null,186))})),L=s.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(9)]).then(n.bind(null,189))}));function C(){return Object(A.jsx)(r.Suspense,{fallback:Object(A.jsx)("div",{className:"loader"}),children:Object(A.jsx)(I.a,{children:Object(A.jsxs)(y.d,{children:[Object(A.jsx)(y.a,{exact:!0,from:"/",to:"/home"}),Object(A.jsx)(y.b,{path:"/home",component:N}),Object(A.jsx)(y.b,{path:"/login",component:T}),Object(A.jsx)(y.b,{path:"/register",component:x}),Object(A.jsx)(y.b,{path:"/mylist",component:L})]})})})}n(34),n(35);var J=n(14),P=JSON.parse(localStorage.getItem("users"))||[],k=JSON.parse(localStorage.getItem("news"))||[];!function(){var e=window.fetch;window.fetch=function(t,n){return new Promise((function(r,s){setTimeout((function(){if(t.endsWith("/users/authenticate")&&"POST"===n.method){var a=JSON.parse(n.body),i=P.filter((function(e){return e.email===a.email&&e.password===a.password}));if(i.length){var o=i[0],c={id:o.id,email:o.email,name:o.name,phone:o.phone,dateInput:o.dateInput,token:"fake-jwt-token"};r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(c))}})}else s("Username or password is incorrect")}else{if(t.endsWith("/users/register")&&"POST"===n.method){var l=JSON.parse(n.body);return P.filter((function(e){return e.email===l.email})).length?void s('Email "'.concat(l.email,'" is already taken')):(l.id=P.length?Math.max.apply(Math,Object(J.a)(P.map((function(e){return e.id}))))+1:1,P.push(l),localStorage.setItem("users",JSON.stringify(P)),void r({ok:!0,text:function(){return Promise.resolve()}}))}if(t.endsWith("/news/save")&&"POST"===n.method){var u=JSON.parse(n.body);return k.filter((function(e){return e.userid===u.userid&&e.title===u.title})).length?void s("This Artical is already saved"):(k.push(u),localStorage.setItem("news",JSON.stringify(k)),void r({ok:!0,text:function(){return Promise.resolve()}}))}if(t.endsWith("/myNews")&&"GET"===n.method)r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(k))}});else{if(t.endsWith("/news/delete")&&"DELETE"===n.method){var S=JSON.parse(n.body),d=k.findIndex((function(e){return e.userid===S.userid&&e.title===S.title})),E=[].concat(Object(J.a)(k.slice(0,d)),Object(J.a)(k.slice(d+1)));return localStorage.setItem("news",JSON.stringify(E)),void r({ok:!0,text:function(){return Promise.resolve()}})}e(t,n).then((function(e){return r(e)}))}}}),500)}))}}();var V=Object(u.createLogger)(),G=Object(c.c)(w,Object(c.a)(l.a,V));i.a.render(Object(A.jsx)(s.a.StrictMode,{children:Object(A.jsx)(o.a,{store:G,children:Object(A.jsx)(C,{})})}),document.getElementById("root"))}},[[36,5,7]]]);
//# sourceMappingURL=main.4721cec4.chunk.js.map